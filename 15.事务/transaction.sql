-- 事务
CREATE TABLE t17 (
		id INT,
		`name` VARCHAR(32))
		
-- 开始事务
START TRANSACTION

-- 设置保存点
SAVEPOINT a

-- 执行DML操作
INSERT INTO t17 VALUES(1, 'Tom')

SELECT * FROM t17

-- 设置保存点
SAVEPOINT b

-- 执行DML操作
INSERT INTO t17 VALUES(2, 'Jerry')

SELECT * FROM t17

-- 回退
ROLLBACK TO b
SELECT * FROM t17
ROLLBACK TO a
SELECT * FROM t17
ROLLBACK
SELECT * FROM t17

-- 提交
COMMIT

-- 默认ROLLBACK
START TRANSACTION

INSERT INTO t17 VALUES(11, 'Zhang')
INSERT INTO t17 VALUES(12, 'Wang')

SELECT * FROM t17

ROLLBACK

SELECT * FROM t17
