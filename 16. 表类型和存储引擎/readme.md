# MySQL表类型和存储引擎

#### **Origin: Danfer Wang**

## 基本介绍

- MySQL表类型是由储存引擎决定的，主要支持六种类型：CSV、Memory、Archive、MRG_MyISAM、MyISAM、InnoDB

- 分为两类：事务安全型（InnoDB）、非事务安全型

- 查看所有存储引擎：

  ```mysql
  SHOW ENGINES
  ```

  

## 主要存储引擎的特点

|     特点     | MyISAM | InnoDB |   Memory   | Archive |
| :----------: | :----: | :----: | :--------: | :-----: |
| 批量插入速度 |   高   |   低   |     高     | 非常高  |
|   事务安全   |   无   |  支持  |     无     |   无    |
|   全文索引   |  支持  |   无   |     无     |   无    |
|    锁机制    | 表级锁 | 行级锁 |   表级锁   | 行级锁  |
|   存储限制   |   无   |  64TB  |     有     |   无    |
|   B树索引    |  支持  |  支持  |    支持    |   无    |
|   Hash索引   |   无   |  支持  |    支持    |   无    |
|   集群索引   |   无   |  支持  |     无     |   无    |
|   数据缓存   |   无   |  支持  |    支持    |   无    |
|   索引缓存   |  支持  |  支持  |    支持    |   无    |
|   压缩数据   |  支持  |   无   |     无     |  支持   |
|   空间使用   |   低   |   高   | 仅占用内存 | 非常低  |
|  内存使用·   |   低   |   高   |    中等    |   低    |
|     外键     |   无   |  支持  |     无     |   无    |

- MyISAM不支持事务、不支持外键，但是访问速度快，对事物完整性没有要求
- InnoDB提供了具有提交、回滚和崩溃恢复能力的 事务安全机制。但是比起MyISAM，其写处理效率差，并且占用更多磁盘空间以保留数据和索引
- Memory使用存在与内存中的内用来创建表。每个Memory表只实际对应一个磁盘文件。Memory访问速度非常快，因为其数据就存放于内存中，并且默认Hash索引。不过，一旦MySQL服务关闭，表中数据随内存中数据丢失，但表的结构仍然存在

## 存储引擎的选择

- 若应用不需要事务，处理数据基本CRUD操作，选择MyISAM，速度快

- 若需要支持事务，选择InnoDB
- 无需持久化保存，操作频繁，选择Memory，将数据储存在内存中，内由I/O等待，速度极快

## 存储引擎的修改

```mysql
ALTER TABLE tbl ENGINE = engine_type
```

